<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Synthesis Languages</title>
    <style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #222;
    color: #e0e0e0;
    margin: 0;
    padding: 0;
    min-height: 100vh;
}

.container {
    max-width: 100%;
    padding: 15px;
    box-sizing: border-box;
}

h1 {
    font-size: clamp(1.3rem, 4vw, 1.8rem);
    text-align: center;
    margin: 15px 0;
    color: #fff;
}

p {
    font-size: clamp(0.85rem, 2.5vw, 1rem);
    text-align: center;
    margin: 15px auto;
    max-width: 600px;
    line-height: 1.5;
}

#loadBtn {
    display: block;
    width: 100%;
    max-width: 300px;
    margin: 25px auto;
    padding: 15px;
    font-size: clamp(1rem, 3vw, 1.2rem);
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
}

#loadBtn:hover {
    background-color: #0056b3;
}

#languageSelect {
    display: none;
}

.table-container {
    overflow-x: auto;
    margin-top: 25px;
    border-radius: 8px;
    background-color: #333;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 300px;
    font-size: clamp(0.8rem, 2vw, 0.95rem);
}

th, td {
    border: 1px solid #444;
    padding: 12px 8px;
    text-align: left;
}

th {
    background-color: #2a2a2a;
    color: #fff;
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
}

tr:nth-child(even) {
    background-color: #3a3a3a;
}

tr:nth-child(odd) {
    background-color: #333;
}

tr:hover {
    background-color: #444 !important;
}

.test-btn {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: clamp(0.75rem, 2vw, 0.9rem);
    transition: background-color 0.2s;
    min-width: 60px;
}

.test-btn:hover {
    background-color: #0056b3;
}

.test-btn:active {
    background-color: #004494;
}

@media (max-width: 768px) {
    .container {
        padding: 10px;
    }

    th, td {
        padding: 8px 4px;
    }

    table {
        font-size: 0.85rem;
    }

    .test-btn {
        padding: 6px 8px;
        font-size: 0.8rem;
    }
}

@media (max-width: 480px) {
    td:nth-child(3), th:nth-child(3),
    td:nth-child(4), th:nth-child(4) {
        display: none;
    }

    th, td {
        padding: 6px 3px;
    }

    .test-btn {
        padding: 5px 6px;
        font-size: 0.75rem;
        min-width: 45px;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Available TTS Language Options</h1>
        <p>This list only applies to the current browser that loads it. Different browsers have different options. You might be able to add more, however OBS Studio specific has very options by default</p>
        <button id="loadBtn" onclick="populateVoices();">Load Voice List</button>
        <select id="languageSelect"></select>
        <div class="table-container">
            <table id="voicesTable">
                <tr>
                    <th>Name</th>
                    <th>Language</th>
                    <th>Local</th>
                    <th>Default</th>
                    <th>Test</th>
                </tr>
            </table>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const select = document.getElementById('languageSelect');
            const table = document.getElementById('voicesTable');
            speechSynthesis.onvoiceschanged = function() {
                if (document.getElementById("loadBtn").style.display === 'none') {
                    populateVoices();
                }
            };
        });

        function populateVoices() {
            const select = document.getElementById('languageSelect');
            select.innerHTML = "";
            const table = document.getElementById('voicesTable');
            table.innerHTML = "<tr><th>Name</th><th>Language</th><th>Local</th><th>Default</th><th>Test</th></tr>";

            document.getElementById('loadBtn').style.display = 'none';

            const voices = speechSynthesis.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.textContent = `${voice.name} (${voice.lang})`;
                select.appendChild(option);
                const row = table.insertRow();
                row.insertCell().textContent = voice.name;
                row.insertCell().textContent = voice.lang;
                row.insertCell().textContent = voice.localService ? 'Yes' : 'No';
                row.insertCell().textContent = voice.default ? 'Yes' : 'No';

                const testCell = row.insertCell();
                const testBtn = document.createElement('button');
                testBtn.textContent = 'Test';
                testBtn.className = 'test-btn';
                testBtn.onclick = function() { testVoice(index); };
                testCell.appendChild(testBtn);
            });
        }

		function testVoice(voiceIndex) {
			const voices = speechSynthesis.getVoices();
			const selectedVoice = voices[voiceIndex];

			speechSynthesis.cancel();

			const message = new SpeechSynthesisUtterance(getTestPhrase(selectedVoice.lang));
			message.voice = selectedVoice;
			message.lang = selectedVoice.lang;
			message.rate = 1;
			message.pitch = 1;
			message.volume = 1;

			speechSynthesis.speak(message);
		}

        function getTestPhrase(lang) {
			const phrases = {
				'en': [ // English phrases - will be chosen randomly
                    'The quick brown fox jumps over the lazy dog.',
                    'Pack my box with five dozen liquor jugs.',
                    'How quickly daft jumping zebras vex.',
                    'Sphinx of black quartz, judge my vow.',
                    'Testing speech synthesis for the English language.',
                    'Hello, this is a voice test.',
                    'Can you hear me now?'
                ],
				'es': 'El rápido zorro marrón salta sobre el perro perezoso.',
				'fr': 'Le rapide renard brun saute par-dessus le chien paresseux.',
				'de': 'Der schnelle braune Fuchs springt über den faulen Hund.',
				'it': 'La rapida volpe marrone salta sopra il cane pigro.',
				'pt': 'A rápida raposa marrom salta sobre o cão preguiçoso.',
				'ru': 'Быстрая коричневая лиса перепрыгивает через ленивую собаку.',
				'ja': '素早い茶色の狐が怠け者の犬を飛び越える。', // Subayai chairo no kitsune ga namakemono no inu o tobikoeru.
				'ko': '빠른 갈색 여우가 게으른 개 위로 점프합니다.', // Ppareun galsaek yeouga geeureun gae wiro jeompeuhamnida.
				'zh': '快速的棕色狐狸跳过懒狗。', // Kuàisù de zōngsè húlí tiàoguò lǎn gǒu. (Mandarin)
                'nl': 'De snelle bruine vos springt over de luie hond.',
				'pl': 'Szybki brązowy lis przeskakuje nad leniwym psem.',
				'id': 'Rubah cokelat yang cepat melompati anjing yang malas.',
				'hi': 'तेज भूरी लोमड़ी आलसी कुत्ते के ऊपर कूदती है।', // Tej bhuri lomdi aalsi kutte ke upar kudti hai.
                'ar': 'الثعلب البني السريع يقفز فوق الكلب الكسول.', // Ath-thaʻlab al-bunī as-sarīʻ yaqfiz fawq al-kalb al-kasūl. (Arabic)
                'sv': 'Snabba bruna räven hoppar över den lata hunden.', // (Swedish)
                'tr': 'Hızlı kahverengi tilki tembel köpeğin üzerinden atlar.', // (Turkish)
                'cs': 'Rychlá hnědá liška skáče přes líného psa.', // (Czech)
                'el': 'Η γρήγορη καφέ αλεπού πηδάει πάνω από τον τεμπέλη σκύλο.', // I grígori kafé alepoú pidáei páno apó ton tempéli skýlo. (Greek)
                'fi': 'Nopea ruskea kettu hyppää laiskan koiran yli.', // (Finnish)
                'da': 'Den hurtige brune ræv hopper over den dovne hund.', // (Danish)
                'no': 'Den raske brune reven hopper over den late hunden.' // (Norwegian)
			};

			const normalizedLang = lang.toLowerCase();

			for (const [key, phraseOrArray] of Object.entries(phrases)) {
				if (normalizedLang === key || normalizedLang.startsWith(key + '-')) {
					if (Array.isArray(phraseOrArray)) { // Check if it's an array (for English)
                        const randomIndex = Math.floor(Math.random() * phraseOrArray.length);
                        return phraseOrArray[randomIndex];
                    }
					return phraseOrArray; // Return single phrase for other languages
				}
			}

			// Default fallback if no specific language phrase is found or if lang is undefined
			return 'This is a test of the speech synthesis system.';
		}
    </script>
</body>
</html>